{"version":3,"sources":["../../../src/WebpackTools/plugins/DevServerReadyNotifierPlugin.js"],"names":["url","require","boxen","chalk","once","PostCompileWebpackPlugin","DevServerReadyNotifierPlugin","constructor","devServer","host","port","Error","format","protocol","https","hostname","apply","compiler","handler","setImmediate","console","log","green","greenBright","underline","borderColor","float","align","margin","padding","module","exports"],"mappings":";;AAAA,MAAMA,MAAMC,QAAQ,KAAR,CAAZ;AACA,MAAMC,QAAQD,QAAQ,OAAR,CAAd;AACA,MAAME,QAAQF,QAAQ,OAAR,CAAd;AACA,MAAMG,OAAOH,QAAQ,UAAR,CAAb;AACA,MAAMI,2BAA2BJ,QAAQ,6BAAR,CAAjC;;AAEA,MAAMK,4BAAN,CAAmC;AAC/BC,gBAAYC,SAAZ,EAAuB;AACnB,YAAI,CAACA,SAAD,IAAc,CAACA,UAAUC,IAAzB,IAAiC,CAACD,UAAUE,IAAhD,EAAsD;AAClD,kBAAMC,MACF,2FADE,CAAN;AAGH;AACD,aAAKX,GAAL,GAAWA,IAAIY,MAAJ,CAAW;AAClBC,sBAAUL,UAAUM,KAAV,GAAkB,QAAlB,GAA6B,OADrB;AAElB;AACA;AACA;AACAC,sBAAUP,UAAUC,IALF;AAMlBC,kBAAMF,UAAUE;AANE,SAAX,CAAX;AAQH;AACDM,UAAMC,QAAN,EAAgB;AACZ,cAAMC,UAAUd,KAAK,MACjBe,aAAa,MACTC,QAAQC,GAAR,CACInB,MACIC,MAAMmB,KAAN,CACI,2BACInB,MAAMoB,WAAN,CAAkBC,SAAlB,CAA4B,KAAKxB,GAAjC,CAFR,CADJ,EAKI;AACIyB,yBAAa,MADjB;AAEIC,mBAAO,QAFX;AAGIC,mBAAO,QAHX;AAIIC,oBAAQ,CAJZ;AAKIC,qBAAS;AALb,SALJ,CADJ,CADJ,CADY,CAAhB;AAmBA,YAAIxB,wBAAJ,CAA6Ba,OAA7B,EAAsCF,KAAtC,CAA4CC,QAA5C;AACH;AArC8B;;AAwCnCa,OAAOC,OAAP,GAAiBzB,4BAAjB","file":"DevServerReadyNotifierPlugin.js","sourcesContent":["const url = require('url');\nconst boxen = require('boxen');\nconst chalk = require('chalk');\nconst once = require('one-time');\nconst PostCompileWebpackPlugin = require('post-compile-webpack-plugin');\n\nclass DevServerReadyNotifierPlugin {\n    constructor(devServer) {\n        if (!devServer || !devServer.host || !devServer.port) {\n            throw Error(\n                'Argument to DevServerReadyNotifierPlugin must be an object with host and port properties.'\n            );\n        }\n        this.url = url.format({\n            protocol: devServer.https ? 'https:' : 'http:',\n            // webpack-dev-server does not comply with the WHATWG URL\n            // format specification that `host` includes a port number,\n            // and `hostname` does not\n            hostname: devServer.host,\n            port: devServer.port\n        });\n    }\n    apply(compiler) {\n        const handler = once(() =>\n            setImmediate(() =>\n                console.log(\n                    boxen(\n                        chalk.green(\n                            'PWADevServer ready at ' +\n                                chalk.greenBright.underline(this.url)\n                        ),\n                        {\n                            borderColor: 'gray',\n                            float: 'center',\n                            align: 'center',\n                            margin: 1,\n                            padding: 1\n                        }\n                    )\n                )\n            )\n        );\n        new PostCompileWebpackPlugin(handler).apply(compiler);\n    }\n}\n\nmodule.exports = DevServerReadyNotifierPlugin;\n"]}